load('rt/util.js');

function foo(o) {
  return (function($x) {
    return (function($n, $c) {
      if (((patObjectTest)([function($X) { return $X[name] === "juan"}, function($X) {return $X[age] === 20}], $X))($n)) return (function($x) {
        return $X.age;
      })($n);
      else return ($c)($n);
    })($x, fail);
  })(o);
}
